{% comment %}
  Professional Header - Clean & Corporate
{% endcomment %}

<header class="header-professional" id="site-header">
  <div class="container-professional">
    <nav class="nav-professional">
      
      <!-- Logo -->
      <div class="logo" style="flex-shrink: 0;">
        {% if section.settings.logo %}
          <a href="{{ routes.root_url }}" style="display: block;">
            <img 
              src="{{ section.settings.logo | image_url: width: 200 }}" 
              alt="{{ shop.name }}"
              style="height: {{ section.settings.logo_height }}px; width: auto;"
              loading="eager"
            >
          </a>
        {% else %}
          <a href="{{ routes.root_url }}" style="text-decoration: none; font-family: var(--font-heading); font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-primary);">
            {{ shop.name }}
          </a>
        {% endif %}
      </div>

      <!-- Desktop Navigation -->
      <ul class="nav-links" style="display: none;">
        {% for link in linklists[section.settings.menu].links %}
          <li>
            <a 
              href="{{ link.url }}" 
              class="nav-link {% if link.active %}active{% endif %}"
            >
              {{ link.title }}
            </a>
          </li>
        {% endfor %}
      </ul>

      <!-- CTA Button -->
      <div style="display: flex; align-items: center; gap: var(--space-4);">
        {% if section.settings.show_cta and section.settings.cta_link != blank %}
          <a href="{{ section.settings.cta_link }}" class="btn btn-primary" style="display: none;">
            {{ section.settings.cta_text }}
          </a>
        {% endif %}

        <!-- Mobile Menu Toggle -->
        <button 
          class="mobile-menu-toggle" 
          aria-label="Toggle menu"
          style="background: none; border: none; cursor: pointer; padding: var(--space-2);"
        >
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
      </div>
    </nav>
  </div>
</header>

<!-- Mobile Menu -->
<div class="mobile-menu" id="mobile-menu" style="display: none;">
  <div class="mobile-menu-content" style="position: fixed; top: 0; right: -100%; width: 80%; max-width: 400px; height: 100vh; background: var(--color-white); padding: var(--space-8); transition: right var(--transition-slow); z-index: var(--z-modal); box-shadow: var(--shadow-xl);">
    <button class="mobile-menu-close" style="position: absolute; top: var(--space-4); right: var(--space-4); background: none; border: none; cursor: pointer; font-size: var(--font-size-3xl); color: var(--color-text);">
      Ã—
    </button>
    
    <nav style="margin-top: var(--space-12);">
      <ul style="list-style: none; padding: 0; margin: 0;">
        {% for link in linklists[section.settings.menu].links %}
          <li style="margin-bottom: var(--space-2); border-bottom: 1px solid var(--color-border);">
            <a 
              href="{{ link.url }}" 
              style="display: block; font-size: var(--font-size-lg); font-weight: var(--font-weight-medium); color: var(--color-text); text-decoration: none; padding: var(--space-4) 0;"
            >
              {{ link.title }}
            </a>
          </li>
        {% endfor %}
      </ul>

      {% if section.settings.show_cta and section.settings.cta_link != blank %}
        <a href="{{ section.settings.cta_link }}" class="btn btn-primary" style="margin-top: var(--space-8); width: 100%;">
          {{ section.settings.cta_text }}
        </a>
      {% endif %}
    </nav>
  </div>
  <div class="mobile-menu-overlay" style="position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(0, 0, 0, 0.5); opacity: 0; pointer-events: none; transition: opacity var(--transition-base); z-index: 1049;"></div>
</div>

<style>
  @media (min-width: 769px) {
    .nav-links {
      display: flex !important;
    }
    
    .btn-primary {
      display: inline-flex !important;
    }
    
    .mobile-menu-toggle {
      display: none !important;
    }
  }
  
  .mobile-menu.active .mobile-menu-content {
    right: 0;
  }
  
  .mobile-menu.active .mobile-menu-overlay {
    opacity: 1;
    pointer-events: auto;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const toggle = document.querySelector('.mobile-menu-toggle');
    const close = document.querySelector('.mobile-menu-close');
    const overlay = document.querySelector('.mobile-menu-overlay');
    const menu = document.getElementById('mobile-menu');
    
    if (toggle && menu) {
      toggle.addEventListener('click', () => {
        menu.style.display = 'block';
        setTimeout(() => menu.classList.add('active'), 10);
      });
      
      const closeMenu = () => {
        menu.classList.remove('active');
        setTimeout(() => menu.style.display = 'none', 300);
      };
      
      if (close) close.addEventListener('click', closeMenu);
      if (overlay) overlay.addEventListener('click', closeMenu);
    }
  });
</script>

{% schema %}
{
  "name": "Header Professional",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "range",
      "id": "logo_height",
      "label": "Logo Height (px)",
      "min": 30,
      "max": 80,
      "step": 5,
      "default": 40
    },
    {
      "type": "link_list",
      "id": "menu",
      "label": "Menu",
      "default": "main-menu"
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "Show CTA Button",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Text",
      "default": "Get Started"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Link"
    }
  ]
}
{% endschema %}
