<div class="section-modern">
  <div class="container-modern" style="max-width: 700px;">
    <h1 class="heading-xl scroll-reveal" style="text-align: center; margin-bottom: var(--space-8);">{{ page.title | default: 'Contactez-nous' }}</h1>

    {% if page.content != blank %}
      <div class="scroll-reveal" style="text-align: center; color: var(--color-text-light); margin-bottom: var(--space-12); line-height: 1.7;">
        {{ page.content }}
      </div>
    {% endif %}

    {% form 'contact' %}
      {% if form.posted_successfully? %}
        <div class="glass-card" style="background: var(--color-success); color: white; margin-bottom: var(--space-6); text-align: center;">
          Merci ! Votre message a été envoyé avec succès.
        </div>
      {% endif %}

      {% if form.errors %}
        <div class="glass-card" style="background: var(--color-error); color: white; margin-bottom: var(--space-6);">
          <p>Oops, il y a des erreurs :</p>
          <ul style="margin-top: var(--space-3); padding-left: var(--space-6);">
            {% for field in form.errors %}
              <li>{{ field }} - {{ form.errors.messages[field] }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <div class="glass-card scroll-reveal">
        <div style="margin-bottom: var(--space-6);">
          <label for="contact_name" style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Nom *</label>
          <input 
            type="text" 
            id="contact_name" 
            name="contact[name]" 
            required
            style="width: 100%; padding: var(--space-4); border: 2px solid var(--glass-border); border-radius: var(--radius-lg); font-size: var(--font-size-base);"
          >
        </div>

        <div style="margin-bottom: var(--space-6);">
          <label for="contact_email" style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Email *</label>
          <input 
            type="email" 
            id="contact_email" 
            name="contact[email]" 
            required
            style="width: 100%; padding: var(--space-4); border: 2px solid var(--glass-border); border-radius: var(--radius-lg); font-size: var(--font-size-base);"
          >
        </div>

        <div style="margin-bottom: var(--space-6);">
          <label for="contact_phone" style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Téléphone</label>
          <input 
            type="tel" 
            id="contact_phone" 
            name="contact[phone]"
            style="width: 100%; padding: var(--space-4); border: 2px solid var(--glass-border); border-radius: var(--radius-lg); font-size: var(--font-size-base);"
          >
        </div>

        <div style="margin-bottom: var(--space-6);">
          <label for="contact_message" style="display: block; margin-bottom: var(--space-2); font-weight: 600;">Message *</label>
          <textarea 
            id="contact_message" 
            name="contact[body]" 
            required
            rows="6"
            style="width: 100%; padding: var(--space-4); border: 2px solid var(--glass-border); border-radius: var(--radius-lg); font-size: var(--font-size-base); resize: vertical;"
          ></textarea>
        </div>

        <button type="submit" class="btn btn-primary magnetic" style="width: 100%; padding: var(--space-5) var(--space-8);">
          Envoyer le message
        </button>
      </div>
    {% endform %}
  </div>
</div>

{% schema %}
{
  "name": "Contact Form",
  "settings": []
}
{% endschema %}
