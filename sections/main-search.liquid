{% paginate search.results by 12 %}

<div class="section-modern">
  <div class="container-modern">
    <h1 class="heading-xl" style="text-align: center; margin-bottom: var(--space-8);">Résultats de recherche</h1>

    <form action="/search" method="get" style="max-width: 600px; margin: 0 auto var(--space-12);">
      <div style="display: flex; gap: var(--space-3);">
        <input 
          type="search" 
          name="q" 
          value="{{ search.terms }}"
          placeholder="Rechercher..."
          style="flex: 1; padding: var(--space-4); border: 2px solid var(--glass-border); border-radius: var(--radius-lg); font-size: var(--font-size-base);"
        >
        <button type="submit" class="btn btn-primary">Rechercher</button>
      </div>
    </form>

    {% if search.performed %}
      <p style="text-align: center; color: var(--color-text-muted); margin-bottom: var(--space-8);">
        {{ search.results_count }} résultat{% if search.results_count > 1 %}s{% endif %} pour "{{ search.terms }}"
      </p>

      {% if search.results_count > 0 %}
        <div class="grid-modern" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: var(--space-8);">
          {% for item in search.results %}
            {% if item.object_type == 'product' %}
              <div class="card hover-lift" style="padding: 0; overflow: hidden;">
                <a href="{{ item.url }}" style="text-decoration: none; color: inherit;">
                  {% if item.featured_image %}
                    <img 
                      src="{{ item.featured_image | image_url: width: 400 }}" 
                      alt="{{ item.title }}"
                      loading="lazy"
                      style="width: 100%; aspect-ratio: 1; object-fit: cover;"
                    >
                  {% endif %}
                  
                  <div style="padding: var(--space-5);">
                    <h3 style="font-size: var(--font-size-lg); margin-bottom: var(--space-3);">{{ item.title }}</h3>
                    <p style="font-size: var(--font-size-xl); font-weight: 700; color: var(--color-primary);">{{ item.price | money }}</p>
                  </div>
                </a>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% else %}
        <div style="text-align: center; padding: var(--space-16) 0;">
          <p style="font-size: var(--font-size-xl); color: var(--color-text-muted);">Aucun résultat trouvé</p>
        </div>
      {% endif %}
    {% endif %}
  </div>
</div>

{% endpaginate %}

{% schema %}
{
  "name": "Search Results",
  "settings": []
}
{% endschema %}
