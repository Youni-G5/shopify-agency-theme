{% comment %}
  Professional Portfolio Section
{% endcomment %}

<section class="section-professional">
  <div class="container-professional">
    
    <!-- Section Header -->
    <div style="text-align: center; max-width: 800px; margin: 0 auto var(--space-20);">
      {% if section.settings.eyebrow %}
        <p class="text-uppercase scroll-reveal" style="color: var(--color-secondary); margin-bottom: var(--space-6);">
          {{ section.settings.eyebrow }}
        </p>
      {% endif %}

      <h2 class="heading-xl scroll-reveal" style="margin-bottom: var(--space-6);">
        {{ section.settings.heading | default: "Our Work" }}
      </h2>

      <div class="section-divider scroll-reveal"></div>

      {% if section.settings.subheading %}
        <p class="text-lead scroll-reveal">
          {{ section.settings.subheading }}
        </p>
      {% endif %}
    </div>

    <!-- Portfolio Grid -->
    <div class="grid-professional grid-2" style="gap: var(--space-12);">
      {% for block in section.blocks %}
        <article class="card-minimal scroll-reveal hover-lift">
          
          <!-- Project Image -->
          {% if block.settings.image %}
            <div style="position: relative; overflow: hidden; border-radius: var(--radius-lg); margin-bottom: var(--space-6);">
              <img 
                src="{{ block.settings.image | image_url: width: 800 }}" 
                alt="{{ block.settings.title }}"
                loading="lazy"
                style="width: 100%; aspect-ratio: 16/10; object-fit: cover;"
              >
              
              <!-- Category Badge -->
              {% if block.settings.category %}
                <div style="position: absolute; top: var(--space-4); left: var(--space-4); background: var(--color-white); padding: var(--space-2) var(--space-4); border-radius: var(--radius-base); font-size: var(--font-size-sm); font-weight: var(--font-weight-semibold); color: var(--color-text); text-transform: uppercase; letter-spacing: var(--letter-spacing-wide);">
                  {{ block.settings.category }}
                </div>
              {% endif %}
            </div>
          {% endif %}

          <!-- Project Info -->
          <h3 class="heading-md" style="margin-bottom: var(--space-4);">
            {{ block.settings.title }}
          </h3>

          <p style="color: var(--color-text-light); margin-bottom: var(--space-6); line-height: var(--line-height-relaxed);">
            {{ block.settings.description }}
          </p>

          <!-- Tags -->
          {% if block.settings.tags %}
            <div style="display: flex; flex-wrap: wrap; gap: var(--space-2); margin-bottom: var(--space-6);">
              {% assign tag_list = block.settings.tags | split: ',' %}
              {% for tag in tag_list %}
                <span style="background: var(--color-gray-100); padding: var(--space-1) var(--space-3); border-radius: var(--radius-base); font-size: var(--font-size-xs); color: var(--color-text-muted); text-transform: uppercase; letter-spacing: var(--letter-spacing-wide);">
                  {{ tag | strip }}
                </span>
              {% endfor %}
            </div>
          {% endif %}

          <!-- View Project Link -->
          {% if block.settings.link != blank %}
            <a 
              href="{{ block.settings.link }}" 
              class="btn btn-outline"
            >
              {{ block.settings.link_text | default: "View Project" }} â†’
            </a>
          {% endif %}
        </article>
      {% endfor %}
    </div>

    <!-- View All Button -->
    {% if section.settings.show_view_all and section.settings.view_all_link != blank %}
      <div class="scroll-reveal" style="text-align: center; margin-top: var(--space-16);">
        <a href="{{ section.settings.view_all_link }}" class="btn btn-primary btn-lg">
          {{ section.settings.view_all_text | default: "View All Projects" }}
        </a>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Portfolio Professional",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow Text",
      "default": "Case Studies"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Our Work"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Explore our recent projects and the results we've achieved for our clients"
    },
    {
      "type": "checkbox",
      "id": "show_view_all",
      "label": "Show View All Button",
      "default": true
    },
    {
      "type": "text",
      "id": "view_all_text",
      "label": "View All Button Text",
      "default": "View All Projects"
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "View All Button Link"
    }
  ],
  "blocks": [
    {
      "type": "project",
      "name": "Project",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Project Image"
        },
        {
          "type": "text",
          "id": "category",
          "label": "Category",
          "default": "E-Commerce"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Project Title",
          "default": "Luxury Fashion Store"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Premium e-commerce experience with sophisticated design. Achieved 150% increase in conversions within 6 months."
        },
        {
          "type": "text",
          "id": "tags",
          "label": "Tags (comma separated)",
          "default": "Shopify, Design, UX/UI"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Project Link"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "View Project"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Portfolio Professional",
      "blocks": [
        {
          "type": "project"
        },
        {
          "type": "project"
        },
        {
          "type": "project"
        },
        {
          "type": "project"
        }
      ]
    }
  ]
}
{% endschema %}
