<section class="contact-info-section section" data-section-id="{{ section.id }}" style="background-color: #f9fafb;">
  <div class="container">
    {% if section.settings.heading != blank %}
      <h2 class="heading-lg text-center fade-in-up">{{ section.settings.heading }}</h2>
    {% endif %}

    <div class="grid grid-cols-1 grid-cols-3" style="margin-top: 3rem;">
      {% for block in section.blocks %}
        <div class="contact-info-card card fade-in-up" {{ block.shopify_attributes }} style="text-align: center;">
          <div class="card-content">
            <div class="info-icon" style="width: 60px; height: 60px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, var(--color-primary), var(--color-secondary)); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
              {% case block.settings.icon %}
                {% when 'email' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                  </svg>
                {% when 'phone' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                  </svg>
                {% when 'location' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                  </svg>
                {% when 'clock' %}
                  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
              {% endcase %}
            </div>

            <h3 class="heading-md">{{ block.settings.title }}</h3>
            <p style="color: #6b7280; line-height: 1.8;">{{ block.settings.content }}</p>
            
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}" style="color: var(--color-primary); font-weight: 600; text-decoration: none; margin-top: 0.5rem; display: inline-block;">
                {{ block.settings.link_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact Info",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Autres Moyens de Nous Contacter"
    }
  ],
  "blocks": [
    {
      "type": "info",
      "name": "Info Block",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "email", "label": "Email" },
            { "value": "phone", "label": "Phone" },
            { "value": "location", "label": "Location" },
            { "value": "clock", "label": "Clock" }
          ],
          "default": "email"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Email"
        },
        {
          "type": "textarea",
          "id": "content",
          "label": "Content",
          "default": "contact@example.com"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link Text",
          "default": "Contact"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Contact Info",
      "blocks": [
        {
          "type": "info",
          "settings": {
            "icon": "email",
            "title": "Email",
            "content": "contact@example.com"
          }
        },
        {
          "type": "info",
          "settings": {
            "icon": "phone",
            "title": "Téléphone",
            "content": "+33 1 23 45 67 89"
          }
        },
        {
          "type": "info",
          "settings": {
            "icon": "location",
            "title": "Adresse",
            "content": "Paris, France"
          }
        }
      ]
    }
  ]
}
{% endschema %}
