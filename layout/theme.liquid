<!doctype html>
<html lang="{{ request.locale.iso_code }}">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="theme-color" content="#1a2b4a">
  
  <title>{{ page_title }}{% if current_tags %} &ndash; {{ 'general.meta.tags' | t: tags: current_tags.join(', ') }}{% endif %}{% if current_page != 1 %} &ndash; {{ 'general.meta.page' | t: page: current_page }}{% endif %}{% unless page_title contains shop.name %} &ndash; {{ shop.name }}{% endunless %}</title>

  {% if page_description %}
    <meta name="description" content="{{ page_description | escape }}">
  {% endif %}

  {% render 'meta-tags' %}
  {% render 'schema-json-ld' %}

  <link rel="canonical" href="{{ canonical_url }}">

  {{ content_for_header }}

  <!-- Professional Design System CSS -->
  {{ 'theme-professional.css' | asset_url | stylesheet_tag }}
  
  <!-- Legacy CSS for compatibility -->
  {{ 'theme.css' | asset_url | stylesheet_tag }}
</head>

<body class="template-{{ template.name }}{% if template.suffix %} template-{{ template.name }}-{{ template.suffix }}{% endif %}">
  <a href="#main-content" class="skip-to-content">{{ 'accessibility.skip_to_content' | t }}</a>

  {% sections 'header-group' %}

  <main id="main-content" role="main" style="padding-top: 80px;">
    {{ content_for_layout }}
  </main>

  {% sections 'footer-group' %}

  <!-- Professional JavaScript -->
  <script>
    // Smooth scroll reveal on scroll
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-fade-in-up');
        }
      });
    }, observerOptions);

    document.addEventListener('DOMContentLoaded', () => {
      // Observe all scroll reveal elements
      document.querySelectorAll('.scroll-reveal').forEach(el => {
        observer.observe(el);
      });

      // Header scroll effect
      const header = document.querySelector('.header-professional');
      if (header) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 50) {
            header.classList.add('scrolled');
          } else {
            header.classList.remove('scrolled');
          }
        });
      }
    });
  </script>
</body>
</html>
